<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
  <title>Fiche de Rencontre Client – Coaching & Fitness</title>
  <style>
    /* Styles de base */
    html, body {
      max-width: 100%;
      overflow-x: hidden;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      font-weight: 200; /* ou 100 pour encore plus fin */
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
      min-height: 100vh;
    }
    
    .container {
      max-width: 50rem !important;
      width: 90% !important;
      margin: 0 auto; /* Centre horizontalement l'élément */
      padding: 10px; /* Ajoute un espace intérieur pour le confort visuel */
      box-sizing: border-box; /* Inclut le padding dans la largeur totale */
      overflow: hidden; /* Empêche le dépassement horizontal */
    }
    
    h1 {
      color: #0c5cc4;
      text-align: center;
      margin-bottom: 25px;
      font-size: 2.2em;
      font-weight: 700;
      border-bottom: 0px solid #635bbb;
      padding-bottom: 10px;
    }

    /* Style des sections */
    section {
      background: #deefff;
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 25px;
      border: 1px solid #318aff;
    }

    
    /* Style des labels */
    label {
      display: block;
      margin-bottom: 10px;
      color: #2d3748;
      font-weight: 500;
    }
    
    /* Style des champs de saisie */
    input[type="text"], 
    input[type="number"], 
    textarea {
      width: calc(100% - 40px); /* Ajustement pour garder une marge de chaque côté */
      padding: 12px;
      margin: 8px 20px 20px; /* Marge de 20px à gauche et à droite */
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.3s ease;
      box-sizing: border-box; /* Pour inclure padding et border dans la largeur */
    }
    
    input[type="text"]:focus, 
    input[type="number"]:focus, 
    textarea:focus {
      border-color: #4338ca;
      box-shadow: 0 0 0 3px rgba(67, 56, 202, 0.1);
      outline: none;
    }
    
    /* Style des checkboxes et radios */
    .checkbox-group {
      margin: 15px 20px; /* Ajout de marges latérales */
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    
    .checkbox-group label {
      display: flex;
      align-items: center;
      margin: 5px 0;
      min-width: 150px; /* Largeur minimum pour éviter des éléments trop serrés */
    }
    
    input[type="radio"],
    input[type="checkbox"] {
      margin-right: 8px;
    }
    
    /* Style des boutons */
    .button {
      padding: 12px 24px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 10px 5px;
    }
    
    .button {
      background-color: #2563eb;
      color: white;
    }

    .button:hover {
      background-color: #1d4ed8;
      transform: scale(1.03);
    }

    .button:active {
      transform: scale(0.97);
    }
        
    .button-copy {
      background-color: #4338ca;
    }
    
    .button-copy:hover {
      background-color: #3730a3;
    }
    
    .button-download {
      background-color: #dc2626;
    }
    
    .button-download:hover {
      background-color: #b91c1c;
    }
    
    /* Style de la section de sortie */
    .output-section {
      margin-top: 20px;
      background: #f8fafc;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    
    .output-section h2 {
      color: #1a202c;
      margin-bottom: 30px;
      margin-top: -60px;
      text-align: center;
    }
    
    .output-section pre {
      background-color: #ffffff;
      padding: 5px;
      border-radius: 8px;
      border: 1px solid #e2e8f0;
      font-family: monospace;
      white-space: pre-wrap;
      word-wrap: break-word;
      margin: 0 auto;
      width: 95%;
      max-height: 20vh;
      overflow-y: auto;
    }
    /* Media Queries pour la responsivité */
    @media screen and (max-width: 900px) {
      body {
        padding: 10px;
      }
    
      .container {
        padding: 0px;
        width: 95%;
      }
    
      h1 {
        font-size: 1.8em;
      }
    
      section {
        padding: 15px;
      }
    
      input[type="text"], 
      input[type="number"], 
      textarea {
        width: calc(100% - 20px);
        margin: 8px 10px 20px;
      }
    
      .checkbox-group {
        margin: 15px 10px;
      }
    
      .checkbox-group label {
        min-width: 120px;
      }
    
      .button {
        width: 100%;
        margin: 10px 0;
      }
    }
    
    @media screen and (max-width: 480px) {
      h1 {
        font-size: 1.5em;
      }
    
      .checkbox-group label {
        min-width: 100%;
      }
    
      input[type="text"], 
      input[type="number"], 
      textarea {
        font-size: 14px;
      }
    }
    </style>
  </head>
<body>

  <div class="container">
    <h1>Fiche de Rencontre Client – Coaching & Fitness</h1>

    <form id="formClient">

      <!-- Section 1: Informations personnelles -->
      <section>
        <label for="nom">Nom:</label>
        <input type="text" id="nom" name="nom">
        
        <label for="prenom">Prénom:</label>
        <input type="text" id="prenom" name="prenom">

        <label for="age">Âge:</label>
        <input type="number" id="age" name="age">

        <label for="profession">Profession:</label>
        <input type="text" id="profession" name="profession">

        <label for="coordonnees">Coordonnées (email/téléphone):</label>
        <input type="text" id="coordonnees" name="coordonnees">
      </section>

      <!-- Section 2: Expérience sportive -->
      <section>
        <label>Avez-vous déjà suivi un programme d'entraînement ou un coaching ?</label>
        <label><input type="radio" name="experienceCoaching" value="oui"> Oui</label>
        <label><input type="radio" name="experienceCoaching" value="non"> Non</label>

        <label for="frequenceSport">Fréquence de sport actuelle:</label>
        <label><input type="radio" name="frequenceSport" value="Jamais"> Jamais</label>
        <label><input type="radio" name="frequenceSport" value="1-2x/semaine"> 1-2x/semaine</label>
        <label><input type="radio" name="frequenceSport" value="3-4x/semaine"> 3-4x/semaine</label>
        <label><input type="radio" name="frequenceSport" value="5x et +"> 5x et +</label>

        <div class="checkbox-group">
          <label>Types d'activités physiques:</label>
          <label><input type="checkbox" name="typeActivites" value="Musculation"> Musculation</label>
          <label><input type="checkbox" name="typeActivites" value="Cardio"> Cardio (course, vélo…)</label>
          <label><input type="checkbox" name="typeActivites" value="Yoga"> Yoga/Pilates</label>
          <label><input type="checkbox" name="typeActivites" value="Sport collectif"> Sport collectif</label>
          <label><input type="checkbox" name="typeActivites" value="Autre"> Autre</label>
          <input type="text" id="typeActivitesAutre" name="typeActivitesAutre" placeholder="Précisez si 'Autre'">
        </div>
      </section>

      <!-- Section 3: Objectifs & motivations -->
      <section>
        <label>Pourquoi souhaitez-vous vous entraîner ?</label>
        <label><input type="checkbox" name="objectifs" value="Perte de poids"> Perte de poids</label>
        <label><input type="checkbox" name="objectifs" value="Prise de muscle"> Prise de muscle</label>
        <label><input type="checkbox" name="objectifs" value="Performance sportive"> Performance sportive</label>
        <label><input type="checkbox" name="objectifs" value="Bien-être général"> Bien-être général</label>
        <label><input type="checkbox" name="objectifs" value="Énergie & vitalité"> Énergie & vitalité</label>
        <input type="text" id="objectifsAutre" name="objectifsAutre" placeholder="Précisez si 'Autre'">

        <label>Qu'est-ce qui vous motive le plus à atteindre vos objectifs ?</label>
        <label><input type="checkbox" name="motivations" value="Esthétique"> Esthétique</label>
        <label><input type="checkbox" name="motivations" value="Santé"> Santé</label>
        <label><input type="checkbox" name="motivations" value="Confiance en soi"> Confiance en soi</label>
        <label><input type="checkbox" name="motivations" value="Défi personnel"> Défi personnel</label>
        <input type="text" id="motivationsAutre" name="motivationsAutre" placeholder="Précisez si 'Autre'">
      </section>

      <!-- Section 4: Niveau d'énergie & contraintes -->
      <section>
        <label>Comment évaluez-vous votre niveau d'énergie au quotidien ?</label>
        <label><input type="radio" name="energie" value="Faible"> Faible</label>
        <label><input type="radio" name="energie" value="Moyen"> Moyen</label>
        <label><input type="radio" name="energie" value="Élevé"> Élevé</label>

        <label>Avez-vous des contraintes particulières (blessures, emploi du temps chargé, autres) ?</label>
        <textarea id="contraintes" name="contraintes"placeholder="Précisez" ></textarea>
      </section>

      <!-- Section 5: Alimentation & habitudes nutritionnelles -->
      <section>
        <label>Comment décririez-vous votre alimentation ?</label>
        <label><input type="radio" name="alimentation" value="Équilibrée"> Équilibrée et variée</label>
        <label><input type="radio" name="alimentation" value="Plutôt saine"> Plutôt saine, mais avec quelques écarts</label>
        <label><input type="radio" name="alimentation" value="Irrégulière"> Irrégulière ou déséquilibrée</label>

        <label>Avez-vous des objectifs liés à l'alimentation ?</label>
        <label><input type="checkbox" name="objectifsAlimentation" value="Perte de poids"> Perte de poids</label>
        <label><input type="checkbox" name="objectifsAlimentation" value="Prise de masse"> Prise de masse</label>
        <label><input type="checkbox" name="objectifsAlimentation" value="Plus d'énergie"> Plus d'énergie au quotidien</label>
        <label><input type="checkbox" name="objectifsAlimentation" value="Améliorer mes habitudes"> Améliorer mes habitudes alimentaires</label>
        <input type="text" id="objectifsAlimentationAutre" name="objectifsAlimentationAutre" placeholder="Précisez si 'Autre'">

        <label>Suivez-vous un régime spécifique ?</label>
        <label><input type="checkbox" name="regime" value="Végétarien"> Végétarien</label>
        <label><input type="checkbox" name="regime" value="Végétalien"> Végétalien</label>
        <label><input type="checkbox" name="regime" value="Cétogène"> Cétogène</label>
        <input type="text" id="regimeAutre" name="regimeAutre" placeholder="Précisez si 'Autre'">
      </section>

      <!-- Section 6: Engagement & suivi -->
      <section>
        <label>Êtes-vous intéressé(e) par un accompagnement personnalisé ?</label>
        <label><input type="radio" name="accompagnement" value="Oui"> Oui, je veux en savoir plus</label>
        <label><input type="radio" name="accompagnement" value="Peut-être"> Peut-être</label>
        <label><input type="radio" name="accompagnement" value="Pas pour l'instant"> Pas pour l'instant</label>

        <label>Préférez-vous être contacté(e) par :</label>
        <label><input type="radio" name="contact" value="Email"> Email</label>
        <label><input type="radio" name="contact" value="Téléphone"> Téléphone</label>
        <label><input type="radio" name="contact" value="WhatsApp"> WhatsApp</label>
        <label><input type="radio" name="contact" value="En salle"> En salle directement</label>
        <label>autres</label>
        <input type="text" id="autre moyen de contact" name="autremoyendecontact" placeholder="me contacter par...">
      </section>

      <!-- Section 7: Un dernier mot ? -->
      <section>
        <label>Avez-vous une question, une attente particulière ou un élément à partager ?</label>
        <textarea id="dernierMot" name="dernierMot" placeholder="votre partage"></textarea>
      </section>
    </form>

    <div style="text-align: center;">
      <button type="button" class="button" onclick="generateMarkdown()">Générer le Markdown</button>
    </div>

    <div class="output-section">
    <div class="output-section">
      <div class="output-section">
        <h2 style="color: #0C5CC4;  ">Markdown généré</h2>
        <pre id="markdownOutput"></pre>
      </div>

      <button type="button" class="button button-copy" onclick="copyToClipboard()">Copier le Markdown</button>
      <button type="button" class="button" style="background-color: #550596;" onclick="sendEmail()">Envoyer par Email</button>
      <button type="button" class="button button-download" onclick="downloadMarkdown()">Télécharger le fichier</button>

    </div>



<script>
    document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("formClient");
    const markdownOutput = document.getElementById("markdownOutput");
    
    emailjs.init("VrkvA3mXUAPMiNgZi");

    function getCheckedValues(formData, name, autreField) {
        const values = [];
        document.querySelectorAll(`input[name="${name}"]:checked`).forEach(input => values.push(input.value));
        const autreValue = formData.get(autreField);
        if (autreValue) values.push(`Autre: ${autreValue}`);
        return values.length > 0 ? values.join(", ") : "Aucune sélection";
    }

    function updateMarkdown() {
        const formData = new FormData(form);
        let markdown = '';
        
        // Section 1
        markdown += `### 1. Informations personnelles\n`;
        markdown += `- **Nom**: ${formData.get('nom') || "Non renseigné"}\n`;
        markdown += `- **Prénom**: ${formData.get('prenom') || "Non renseigné"}\n`;
        markdown += `- **Âge**: ${formData.get('age') || "Non renseigné"}\n`;
        markdown += `- **Profession**: ${formData.get('profession') || "Non renseigné"}\n`;
        markdown += `- **Coordonnées**: ${formData.get('coordonnees') || "Non renseigné"}\n`;

        // Section 2
        markdown += `\n### 2. Expérience sportive\n`;
        markdown += `- **Avez-vous déjà suivi un programme d'entraînement ?** ${formData.get('experienceCoaching') || "Non renseigné"}\n`;
        markdown += `- **Fréquence de sport actuelle**: ${formData.get('frequenceSport') || "Non renseigné"}\n`;
        markdown += `- **Types d'activités physiques**: ${getCheckedValues(formData, 'typeActivites', 'typeActivitesAutre')}\n`;

        // Section 3
        markdown += `\n### 3. Objectifs & motivations\n`;
        markdown += `- **Pourquoi s'entraîner ?** ${getCheckedValues(formData, 'objectifs', 'objectifsAutre')}\n`;
        markdown += `- **Motivations principales**: ${getCheckedValues(formData, 'motivations', 'motivationsAutre')}\n`;

        // Section 4
        markdown += `\n### 4. Niveau d'énergie & contraintes\n`;
        markdown += `- **Niveau d'énergie**: ${formData.get('energie') || "Non renseigné"}\n`;
        markdown += `- **Contraintes**: ${formData.get('contraintes') || "Non renseigné"}\n`;

        // Section 5
        markdown += `\n### 5. Alimentation\n`;
        markdown += `- **Type d'alimentation**: ${formData.get('alimentation') || "Non renseigné"}\n`;
        markdown += `- **Objectifs alimentaires**: ${getCheckedValues(formData, 'objectifsAlimentation', 'objectifsAlimentationAutre')}\n`;
        markdown += `- **Régime spécifique**: ${getCheckedValues(formData, 'regime', 'regimeAutre')}\n`;

        // Section 6
        markdown += `\n### 6. Engagement & suivi\n`;
        markdown += `- **Accompagnement personnalisé ?** ${formData.get('accompagnement') || "Non renseigné"}\n`;
        let contact = formData.get('contact') || "Non renseigné";
        const autreContact = formData.get('autremoyendecontact');
        if (autreContact) contact += `, Autre moyen de contact: ${autreContact}`;
        markdown += `- **Mode de contact préféré**: ${contact}\n`;

        // Section 7
        markdown += `\n### 7. Un dernier mot ?\n`;
        markdown += `${formData.get('dernierMot') || "Non renseigné"}\n`;

        markdownOutput.textContent = markdown;
        return markdown;
    }

    window.generateMarkdown = updateMarkdown;

    window.sendEmail = function() {
    const markdown = updateMarkdown();
    const nom = form.querySelector('[name="nom"]').value;
    
    // Normalise les retours à la ligne pour l'email
    const formattedMarkdown = markdown.replace(/\n/g, '\r\n');
    
    emailjs.send("service_3m5gwpg", "template_lvw3qt4", {
    from_name: nom,
    date: new Date().toLocaleDateString('fr-FR'),
    markdown: 'markdown\n' + markdown  // On ajoute "markdown" avant le contenu
})
    .then(() => alert('Fiche client envoyée !'))
    .catch(err => alert('Erreur: ' + err));
};

    window.copyToClipboard = function() {
        navigator.clipboard.writeText(markdownOutput.textContent)
            .then(() => alert("Markdown copié !"));
    };

    window.downloadMarkdown = function() {
        const blob = new Blob([markdownOutput.textContent], { type: 'text/markdown' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'fiche_client.md';
        link.click();
    };

    form.addEventListener("input", updateMarkdown);
    form.addEventListener("change", updateMarkdown);
  });
</script>
</html>













